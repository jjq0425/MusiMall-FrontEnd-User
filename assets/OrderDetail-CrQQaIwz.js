import{_ as N,C as I,i as p,c as f,l as w,a as B,d as s,f as t,r as c,w as e,t as a,M as v,D as T,o as k,j as n,B as C}from"./index-DUDzG8So.js";import{O as M,a as j}from"./OrderStatusTag-DfBYrzTL.js";import{g as Y}from"./address-DzKDuxDW.js";const R={class:"order-detail-page"},V={class:"order-status"},$={class:"order-info"},q={class:"address-info"},H={class:"trade-items"},L={class:"trade-item-picture"},P={class:"payment-info"},E={class:"remark-info"},z={__name:"OrderDetail",setup(F){const y=I().params.id,o=p({code:"",orderTime:"",orderStatus:0,payStatus:0,totalAmount:0,paymentAmount:0,remark:"",tradeItemList:[{productName:"",model:"",price:0,quantity:0,picture:""}]}),l=p({receiverName:"",receiverPhone:"",province:"",city:"",district:"",detailAddress:"",postCode:""}),h=async()=>{try{const i=await j(y);if(!i.data||i.data.length!=1){v.error("订单不存在"),T.push({name:"Order"});return}Object.assign(o,i.data[0]);const r=await Y(o.deliveryAddressId);Object.assign(l,r)}catch{v.error("获取订单详情失败，请稍后再试")}},b=i=>C(i).format("YYYY-MM-DD HH:mm:ss"),g=f(()=>{switch(o.orderStatus){case 1:return"待支付";case 2:return"已支付";case 4:return"已完成";case 5:return"交易取消";case 6:return"退款退货";default:return"未知状态"}}),S=f(()=>o.payStatus===1?"已支付":"未支付");return w(()=>{h()}),(i,r)=>{const _=c("a-divider"),d=c("a-descriptions-item"),m=c("a-descriptions"),x=c("a-list-item-meta"),D=c("a-image"),O=c("a-list-item"),A=c("a-list");return k(),B("div",R,[s("div",V,[t(M,{orderStatus:o.orderStatus},null,8,["orderStatus"])]),s("div",$,[r[0]||(r[0]=s("h2",null,"订单详情",-1)),t(_),t(m,{column:"2"},{default:e(()=>[t(d,{label:"订单编号"},{default:e(()=>[n(a(o.id),1)]),_:1}),t(d,{label:"下单时间"},{default:e(()=>[n(a(b(o.orderTime)),1)]),_:1}),t(d,{label:"订单状态"},{default:e(()=>[n(a(g.value),1)]),_:1}),t(d,{label:"支付状态"},{default:e(()=>[n(a(S.value),1)]),_:1})]),_:1})]),s("div",q,[r[1]||(r[1]=s("h2",null,"地址信息",-1)),t(_),t(m,{column:"1"},{default:e(()=>[t(d,{label:"收件人"},{default:e(()=>[n(a(l.receiverName),1)]),_:1}),t(d,{label:"电话"},{default:e(()=>[n(a(l.receiverPhone),1)]),_:1}),t(d,{label:"省市区"},{default:e(()=>[n(a(l.province)+" / "+a(l.city)+" / "+a(l.district),1)]),_:1}),t(d,{label:"详细地址"},{default:e(()=>[n(a(l.detailAddress),1)]),_:1}),t(d,{label:"邮编"},{default:e(()=>[n(a(l.postCode),1)]),_:1})]),_:1})]),s("div",H,[r[2]||(r[2]=s("h2",null,"商品信息",-1)),t(_),t(A,{data:o.tradeItemList},{item:e(({item:u})=>[t(O,null,{default:e(()=>[t(x,{title:u.productName,description:`型号：${u.model}，单价：￥${u.price}，数量：${u.quantity}`},null,8,["title","description"]),s("div",L,[t(D,{src:u.picture,alt:u.productName,width:"100px",height:"100px"},null,8,["src","alt"])])]),_:2},1024)]),_:1},8,["data"])]),s("div",P,[r[3]||(r[3]=s("h2",null,"支付信息",-1)),t(_),t(m,{column:"1"},{default:e(()=>[t(d,{label:"总金额"},{default:e(()=>[n("￥"+a(o.totalAmount),1)]),_:1}),t(d,{label:"支付金额"},{default:e(()=>[n("￥"+a(o.paymentAmount),1)]),_:1})]),_:1})]),s("div",E,[r[4]||(r[4]=s("h2",null,"备注信息",-1)),t(_),s("p",null,a(o.remark||"无"),1)])])}}},U=N(z,[["__scopeId","data-v-2a525848"]]);export{U as default};
