import{_ as S,c as m,a as w,d as r,t as a,s as z,o as O,C as M,u as j,i as g,l as q,f as e,r as c,w as t,M as p,D as F,j as s,z as H,B as Y}from"./index-BsWbY1E5.js";import{a as R,O as V}from"./OrderStatusTag-C9G9AO_d.js";import{g as $}from"./address-uWrHTVy2.js";const L={class:"header-content"},P={style:{"margin-top":"10px"}},E={__name:"OrderHeader",props:{orderStatus:{type:Number,required:!0}},setup(b){const f=b,v=m(()=>{switch(f.orderStatus){case 1:return"订单待支付，快去付款吧！";case 2:return"已支付，宝贝正在路上~";case 4:return"订单已完成，感谢您的购买！";case 5:return"订单已取消，期待下次光临~";case 6:return"订单已退款，钱钱已退回~";default:return"订单状态未知"}}),y=m(()=>{switch(f.orderStatus){case 1:return"支付勿延俄顷间，订单将失君莫叹。尽快完成支付办，以免向隅空悲叹。";case 2:return"宝贝打包正忙时，请君耐心稍等候。不久便将寄君手，欢欣期待莫心焦。";case 4:return"喜得宝物愿君欢，使用愉快常相伴。欢迎再次来光顾，宾至如归情不散。";case 5:return"订单取消已成空，缘分散尽暂分别。期待下次再相遇，再见之时情更浓。";case 6:return"退款已回君账户，查收无误心自宽。钱钱归位喜盈怀，服务周到愿君还。";default:return"订单状态未可知，疑问重重心惑之。联系客服解君忧，答疑解惑不迟疑。"}}),n=m(()=>{switch(f.orderStatus){case 1:return"status-pending";case 2:return"status-paid";case 4:return"status-completed";case 5:return"status-cancelled";case 6:return"status-refunded";default:return"status-unknown"}});return(l,x)=>(O(),w("div",{class:z(["order-header",n.value])},[r("div",L,[r("h1",null,a(v.value),1),r("p",P,a(y.value),1)])],2))}},U=S(E,[["__scopeId","data-v-3e787c9a"]]),G={class:"order-detail-page"},J={class:"order-info card"},K={class:"address-info card"},Q={class:"trade-items card"},W={style:{"font-size":"16px","font-weight":"bold"}},X={style:{"font-size":"16px",color:"red","font-weight":"bold"}},Z={class:"trade-item-picture"},ee={class:"payment-info card"},te={class:"remark-info card"},ae={__name:"OrderDetail",setup(b){const v=M().params.id,y=j(),n=g({code:"",orderTime:"",orderStatus:0,payStatus:0,totalAmount:0,paymentAmount:0,remark:"",tradeItemList:[{productName:"",model:"",price:0,quantity:0,picture:""}]}),l=g({receiverName:"",receiverPhone:"",province:"",city:"",district:"",detailAddress:"",postCode:""}),x=async()=>{p.loading({content:"加载中...",id:"order-detail"});try{const u=await R(v);if(!u.data||u.data.length!=1){p.error({content:"订单不存在",id:"order-detail"}),F.push({name:"Order"});return}p.success({content:"获取订单详情成功",id:"order-detail"}),Object.assign(n,u.data[0]);const d=await $(n.deliveryAddressId);Object.assign(l,d)}catch{p.error({content:"获取订单详情失败",id:"order-detail"})}finally{p.destroy("order-detail")}},D=u=>Y(u).format("YYYY-MM-DD HH:mm:ss");m(()=>{switch(n.orderStatus){case 1:return"待支付";case 2:return"已支付";case 4:return"已完成";case 5:return"交易取消";case 6:return"退款退货";default:return"未知状态"}});const N=m(()=>{switch(n.payStatus){case 1:return"未支付";case 2:return"已支付";case 3:return"已退款";case 4:return"失败";default:return"未知状态"}});return q(()=>{x()}),(u,d)=>{const _=c("a-divider"),o=c("a-descriptions-item"),h=c("a-descriptions"),A=c("icon-exclamation-circle-fill"),I=c("a-alert"),C=c("a-list-item-meta"),T=c("a-image"),k=c("a-list-item"),B=c("a-list");return O(),w("div",G,[e(U,{class:"card",orderStatus:n.orderStatus},null,8,["orderStatus"]),r("div",J,[d[0]||(d[0]=r("h2",null,"订单信息",-1)),e(_),e(h,{column:"2"},{default:t(()=>[e(o,{label:"订单编号"},{default:t(()=>[s(a(n.id),1)]),_:1}),e(o,{label:"下单时间"},{default:t(()=>[s(a(D(n.orderTime)),1)]),_:1}),e(o,{label:"订单状态"},{default:t(()=>[e(V,{orderStatus:n.orderStatus},null,8,["orderStatus"])]),_:1}),e(o,{label:"下单用户"},{default:t(()=>[s(a(H(y).username),1)]),_:1})]),_:1})]),r("div",K,[d[1]||(d[1]=r("h2",null,"地址信息",-1)),e(_),e(h,{column:3},{default:t(()=>[e(o,{label:"收件人",span:1},{default:t(()=>[s(a(l.receiverName),1)]),_:1}),e(o,{label:"电话",span:1},{default:t(()=>[s(a(l.receiverPhone),1)]),_:1}),e(o,{label:"邮编",span:1},{default:t(()=>[s(a(l.postCode),1)]),_:1}),e(o,{label:"省市区",span:1},{default:t(()=>[s(a(l.province)+" / "+a(l.city)+" / "+a(l.district),1)]),_:1}),e(o,{label:"详细地址",span:1},{default:t(()=>[s(a(l.detailAddress),1)]),_:1})]),_:1})]),r("div",Q,[d[3]||(d[3]=r("h2",null,"商品信息",-1)),e(_),e(I,{type:"normal"},{icon:t(()=>[e(A)]),default:t(()=>[d[2]||(d[2]=s(" 仅代表下单时数据，与当前商品信息可能有不同。 "))]),_:1}),e(B,{data:n.tradeItemList},{item:t(({item:i})=>[e(k,null,{extra:t(()=>[r("div",Z,[e(T,{src:i.picture,alt:i.productName,width:"110px",height:"110px"},null,8,["src","alt"])])]),default:t(()=>[e(C,null,{title:t(()=>[r("div",W,[s(a(i.productName)+" ",1),r("span",X,"￥"+a((i.price*i.quantity).toFixed(2)),1)])]),description:t(()=>[e(h,{column:"3",size:"small",style:{"margin-top":"10px",width:"55vh"}},{default:t(()=>[e(o,{label:"型号/描述",span:3},{default:t(()=>[s(a(i.model),1)]),_:2},1024),e(o,{label:"单价"},{default:t(()=>[s("￥"+a(i.price.toFixed(2)),1)]),_:2},1024),e(o,{label:"购买数量"},{default:t(()=>[s(a(i.quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["data"])]),r("div",ee,[d[4]||(d[4]=r("h2",null,"支付信息",-1)),e(_),e(h,{column:"3"},{default:t(()=>[e(o,{label:"支付状态"},{default:t(()=>[s(a(N.value),1)]),_:1}),e(o,{label:"总金额"},{default:t(()=>[s("￥"+a(n.totalAmount.toFixed(2)),1)]),_:1}),e(o,{label:"应付金额"},{default:t(()=>[s("￥"+a(n.paymentAmount.toFixed(2)),1)]),_:1})]),_:1})]),r("div",te,[d[5]||(d[5]=r("h2",null,"备注信息",-1)),e(_),r("p",null,a(n.remark||"无"),1)])])}}},ne=S(ae,[["__scopeId","data-v-16c420e8"]]);export{ne as default};
