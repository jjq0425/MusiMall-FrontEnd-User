import{h as D,j as f,m as V,a as y,d as n,e as g,b as q,q as M,t as l,w as t,v as S,f as a,r as o,M as x,o as _,i}from"./index-BsPeHFIG.js";import{g as j}from"./cart-CJWFkMLK.js";const F={class:"cart-container"},R={style:{display:"flex","justify-content":"space-between"}},E={style:{"font-size":"16px","font-weight":"bold"}},L={style:{"font-size":"16px",color:"red","font-weight":"bold"}},P={class:"trade-item-picture"},h=2,H={__name:"cart",setup(T){const s=D([]),p=f(1),v=f(0),r=f(!1),u=async()=>{x.loading({content:"加载中...",id:"cart-data"});const c=await j(p.value,h);r.value?s.splice((p.value-1)*h,h,...c.data):s.push(...c.data),x.success({content:"加载成功",id:"cart-data"}),s.length>=c.totalCount?r.value=!0:(r.value=!1,p.value++),v.value=c.totalCount};return V(()=>{u()}),(c,d)=>{const w=o("a-empty"),b=o("a-spin"),m=o("a-descriptions-item"),C=o("a-descriptions"),k=o("a-list-item-meta"),B=o("a-image"),N=o("a-list-item"),z=o("a-list");return _(),y("div",F,[n("div",R,[d[0]||(d[0]=n("h2",{style:{"margin-bottom":"20px"}},"购物车",-1)),n("p",null,"共 "+l(v.value)+" 件商品",1)]),s.length===0?(_(),g(w,{key:0},{default:t(()=>d[1]||(d[1]=[i(" 购物车空空如也 ")])),_:1})):q("",!0),M(a(z,{data:s,"max-height":500,onReachBottom:u,scrollbar:!0,style:{"overflow-y":"always"}},{"scroll-loading":t(()=>[r.value?(_(),y("div",{key:0,onClick:u,style:{cursor:"pointer",color:"grey"}}," —— 我是有底线的 —— ")):(_(),g(b,{key:1}))]),item:t(({item:e})=>[a(N,null,{extra:t(()=>[n("div",P,[a(B,{src:e.cover,alt:e.productName,width:"110px",height:"110px"},null,8,["src","alt"])])]),default:t(()=>[a(k,null,{title:t(()=>[n("div",E,[i(l(e.productName)+" ",1),n("span",L," ￥"+l((e.price*e.quantity).toFixed(2)),1)])]),description:t(()=>[a(C,{column:"3",size:"small",style:{"margin-top":"10px",width:"55vh"}},{default:t(()=>[a(m,{label:"型号/描述",span:3},{default:t(()=>[i(l(e.model),1)]),_:2},1024),a(m,{label:"单价"},{default:t(()=>[i("￥"+l(e.price.toFixed(2)),1)]),_:2},1024),a(m,{label:"购买数量"},{default:t(()=>[i(l(e.quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["data"]),[[S,s.length>0]])])}}};export{H as default};
